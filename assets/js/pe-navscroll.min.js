function scrollTo(e,t,n,r){function o(e,t){return t>e?e:t}function i(){var a=Date.now(),s=o(1,(a-u)/t),f=n(s);c.scrollTop=f*(e-l)+l,1>s?requestAnimationFrame(i):r&&r()}var u=Date.now(),a=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,c=a,l=c.scrollTop;return l===e?void r():void requestAnimationFrame(i)}function getViewportH(){var e=docElem.clientHeight,t=window.innerHeight;return t>e?t:e}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}var peNavScroll=function(){"use strict";window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();var e,t=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body,n=function(n){function r(){[].slice.call(a).forEach(function(t,n){a[n].parentElement.classList.remove(e["class"]),a[n].blur()})}function o(n){return getOffset(n).top<t.scrollTop+l.offsetHeight+e.offset+2?n:void 0}function i(e){return document.getElementById(/[^#]+$/.exec(e.href)[0])?e:void 0}e={nav:".navbar",duration:900,offset:0,allLinks:!1,hashChange:!0,"class":"active",easingFunction:function(e){return e}};for(var u in n)n.hasOwnProperty(u)&&(e[u]=n[u]);var a,c,l=document.querySelector(e.nav),s=e.allLinks?document.querySelectorAll('a[href^="#"]'):l.querySelectorAll("a");s=[].slice.call(s).filter(i),a=[].slice.call(l.querySelectorAll("a")).filter(i);for(var f=s.length,d=a.map(function(e,t){var n=document.getElementById(/[^#]+$/.exec(a[t].href)[0]);return void 0!==n?n:void 0});f--;)document.getElementById(/[^#]+$/.exec(s[f].href)[0])&&s[f].addEventListener("click",function(n){var r=t.scrollTop,o=/[^#]+$/.exec(this.href)[0],i=t.scrollHeight-window.innerHeight,u=document.getElementById(o).getBoundingClientRect().top-(l.offsetHeight+e.offset),a=i>r+u?u:i-r,c=e.duration;scrollTo(r+a,c,e.easingFunction,function(){}),e.hashChange&&(history.pushState?history.pushState(null,null,"#"+o):location.hash="#"+o),n.preventDefault()});var m=function(){var n=(t.scrollHeight-window.innerHeight,d.filter(o));if(n.length){n=n[n.length-1];var i=n.id;c!==i&&(c=i,r(),l.querySelector('[href="#'+i+'"]').parentElement.classList.add(e["class"])),getViewportH()+scrollY()>=t.scrollHeight&&(r(),a[a.length-1].parentElement.classList.add(e["class"]))}};window.addEventListener("scroll",m)};return{init:n}}(),easing={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},docElem=window.document.documentElement;